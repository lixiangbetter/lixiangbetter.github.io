<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="刷题,">










<meta name="description" content="今日面经链接：https://www.nowcoder.com/discuss/614626?source_id=profile_create_nctrack&amp;amp;channel=-1 操作系统中线程、进程联系和区别，上下文切换时发生了什么1、首先，需要搞明白什么是上下文切换？（面试题）上下文切换就是从当前执行任务切换到另一个任务执行的过程。但是，为了确保下次能从正确的位置继续执行，在切换之前">
<meta name="keywords" content="刷题">
<meta property="og:type" content="article">
<meta property="og:title" content="面试题随笔-21&#x2F;4&#x2F;11">
<meta property="og:url" content="http://yoursite.com/2021/04/11/面试题随笔-21-4-11/index.html">
<meta property="og:site_name" content="Thinking">
<meta property="og:description" content="今日面经链接：https://www.nowcoder.com/discuss/614626?source_id=profile_create_nctrack&amp;amp;channel=-1 操作系统中线程、进程联系和区别，上下文切换时发生了什么1、首先，需要搞明白什么是上下文切换？（面试题）上下文切换就是从当前执行任务切换到另一个任务执行的过程。但是，为了确保下次能从正确的位置继续执行，在切换之前">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://lixiangbetter.github.io/2021/04/11/%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9A%8F%E7%AC%94-21-4-11/20191026190526122.png">
<meta property="og:updated_time" content="2021-04-12T06:30:18.130Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="面试题随笔-21&#x2F;4&#x2F;11">
<meta name="twitter:description" content="今日面经链接：https://www.nowcoder.com/discuss/614626?source_id=profile_create_nctrack&amp;amp;channel=-1 操作系统中线程、进程联系和区别，上下文切换时发生了什么1、首先，需要搞明白什么是上下文切换？（面试题）上下文切换就是从当前执行任务切换到另一个任务执行的过程。但是，为了确保下次能从正确的位置继续执行，在切换之前">
<meta name="twitter:image" content="https://lixiangbetter.github.io/2021/04/11/%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9A%8F%E7%AC%94-21-4-11/20191026190526122.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2021/04/11/面试题随笔-21-4-11/">





  <title>面试题随笔-21/4/11 | Thinking</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Thinking</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/04/11/面试题随笔-21-4-11/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lx">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Thinking">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">面试题随笔-21/4/11</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-04-11T11:37:34+08:00">
                2021-04-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>次
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="今日面经"><a href="#今日面经" class="headerlink" title="今日面经"></a>今日面经</h2><p>链接：<a href="https://www.nowcoder.com/discuss/614626?source_id=profile_create_nctrack&amp;channel=-1" target="_blank" rel="noopener">https://www.nowcoder.com/discuss/614626?source_id=profile_create_nctrack&amp;channel=-1</a></p>
<h3 id="操作系统中线程、进程联系和区别，上下文切换时发生了什么"><a href="#操作系统中线程、进程联系和区别，上下文切换时发生了什么" class="headerlink" title="操作系统中线程、进程联系和区别，上下文切换时发生了什么"></a>操作系统中线程、进程联系和区别，上下文切换时发生了什么</h3><p>1、首先，需要搞明白什么是上下文切换？（面试题）<br>上下文切换就是从当前执行任务切换到另一个任务执行的过程。但是，为了确保下次能从正确的位置继续执行，在切换之前，会保存上一个任务的状态。</p>
<p>2、 然后，需要明白进程与线程的区别？（网上很多，这里简单说明）<br>1).线程是进程的一部分。 进程是表示资源分配的基本单位，又是调度运行的基本单位，是程序执行的一个实例; 线程是进程中执行运算的最小单位，即执行处理机调度的基本单位，是进程中的一个执行流。<br>2).内存空间不同。 每一个进程拥有自己独立的内存空间，而线程共享进程的内存空间。<br>进程上下文切换与线程上下文切换最主要的区别就是线程的切换虚拟空间内存是相同的（因为都是属于自己的进程），但是，进程切换的虚拟空间内存则是不同的。<br>同时，这两种上下文切换的处理都是通过操作系统内核来完成的。内核的这种切换过程伴随的最显著的性能损耗是将寄存器中的内容切换出。</p>
<p>3、线程上下文切换比进程上下文切换快的多。<br>补充：多线程是如何实现的？<br>主要是CPU通过给每个线程分配CPU时间片来实现多线程的。即使是单核处理器（CPU）也可以执行多线程处理。<br>时间片是CPU分配给各个线程的时间，因为时间片非常短，所以CPU通过不停地切换线程执行，让我们感觉多个线程时同时执行的，时间片一般是几十毫秒（ms）。</p>
<p>4、在进行上下文切换时，CPU通过时间片分配算法来循环执行任务，Java中的时间片分配算法有哪些？<br>最简单最常用的就是基于时间片轮转调度算法。 时间片轮转调度算法是非常公平的处理机分配方式，可以使就绪队列的每个进程每次仅运行一个时间片。<br>原理：在时间片轮转调度算法中，系统根据先来先服务的原则，将所有的就绪进程排成一个就绪队列，并且每隔一段时间产生一次中断，激活系统中的进程调度程序，完成一次处理机调度，把处理机分配给就绪队列队首进程，让其执行指令。当时间片结束或进程执行结束，系统再次将CPU分配给队首进程。</p>
<p>上下文的切换流程如下</p>
<p>（1）挂起一个进程，将这个进程在CPU中的状态（上下文信息）存储于内存的PCB中。</p>
<p>（2）在PCB中检索下一个进程的上下文并将其在CPU的寄存器中恢复。</p>
<p>（3）跳转到<a href="https://baike.baidu.com/item/程序计数器/3219536" target="_blank" rel="noopener">程序计数器</a>所指向的位置（即跳转到进程被中断时的代码行）并恢复该进程。 </p>
<p>时间片轮转方式使多个任务在同一CPU上的执行有了可能。</p>
<h3 id="协程说一下"><a href="#协程说一下" class="headerlink" title="协程说一下"></a>协程说一下</h3><p>概念</p>
<p>协程，又称微线程，纤程，英文名Coroutine。协程看上去也是子程序，但执行过程中，在子程序内部可中断，然后转而执行别的子程序，在适当的时候再返回来接着执行。</p>
<p><strong>进程</strong> 拥有自己独立的堆和栈，既不共享堆，亦不共享栈，进程由操作系统调度。<br><strong>线程</strong> 拥有自己独立的栈和共享的堆，共享堆，不共享栈，线程亦由操作系统调度。<br><strong>协程</strong> 和线程一样共享堆，不共享栈，协程由程序员在协程的代码里显示调度。</p>
<p>协程和线程区别</p>
<p>那和多线程比，协程最大的优势就是协程极高的执行效率。因为子程序切换不是线程切换，<br>而是由程序自身控制，因此，没有线程切换的开销，和多线程比，线程数量越多，协程的<br>性能优势就越明显。</p>
<p>第二大优势就是不需要多线程的锁机制，因为只有一个线程，也不存在同时写变量冲突，<br>在协程中控制共享资源不加锁，只需要判断状态就好了，所以执行效率比多线程高很多。</p>
<p> 事务四大特性</p>
<ol>
<li>原子性（Atomicity）</li>
<li>一致性（Consistency）</li>
<li>隔离性（Isolation）</li>
<li>持久性（Durability）</li>
</ol>
<h3 id="select语句的执行顺序"><a href="#select语句的执行顺序" class="headerlink" title="select语句的执行顺序"></a>select语句的执行顺序</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	班级，<span class="keyword">avg</span>(数学成绩) <span class="keyword">as</span> 数据平均成绩</span><br><span class="line"><span class="keyword">from</span> 学生信息表</span><br><span class="line"><span class="keyword">where</span> 数学成绩 <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> 班级</span><br><span class="line"><span class="keyword">having</span> 数学平均成绩 &gt; <span class="number">75</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> 数学平均成绩 <span class="keyword">desc</span></span><br><span class="line"><span class="keyword">limit</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>

<ol>
<li>首先执行 FROM 子句, 从<strong>学生成绩表</strong>中组装数据源的数据。</li>
<li>执行 WHERE 子句, 筛选<strong>学生成绩表</strong>中所有学生的数学成绩不为 NULL 的数据 。</li>
<li>执行 GROUP BY 子句, 把<strong>学生成绩表</strong>按 “<strong>班级</strong>“ 字段进行分组。</li>
<li>计算 avg 聚合函数, 按找每个班级分组求出 <strong>数学平均成绩</strong>。</li>
<li>执行 HAVING 子句, 筛选出班级 <strong>数学平均成绩</strong>大于 75 分的。</li>
<li>执行SELECT语句，返回数据，但别着急，还需要执行后面几个步骤。</li>
<li>执行 ORDER BY 子句, 把最后的结果按 “数学平均成绩” 进行排序。</li>
<li>执行LIMIT ，限制仅返回3条数据。结合ORDER BY 子句，即返回所有班级中数学平均成绩的前三的班级及其数学平均成绩。</li>
</ol>
<h3 id="Delete-from-table-where-id-gt-2-执行这条语句过程中发生了什么？（胡说一通）"><a href="#Delete-from-table-where-id-gt-2-执行这条语句过程中发生了什么？（胡说一通）" class="headerlink" title="Delete * from table where id&gt;2 执行这条语句过程中发生了什么？（胡说一通）"></a>Delete * from table where id&gt;2 执行这条语句过程中发生了什么？（胡说一通）</h3><p><img src="https://lixiangbetter.github.io/2021/04/11/%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9A%8F%E7%AC%94-21-4-11/20191026190526122.png" alt></p>
<h3 id="数据库的索引"><a href="#数据库的索引" class="headerlink" title="数据库的索引"></a>数据库的索引</h3><p><strong>一、数据索引是干什么用的呢？</strong></p>
<p>数据库索引其实就是为了使查询数据效率快。</p>
<p><strong>二、数据库索引有哪些呢？</strong></p>
<ol>
<li>聚集索引（主键索引）：在数据库里面，所有行数都会按照主键索引进行排序。</li>
<li>非聚集索引：就是给普通字段加上索引。</li>
<li>联合索引：就是好几个字段组成的索引，称为联合索引。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">key ``&apos;idx_age_name_sex&apos;` `(``&apos;age&apos;``,``&apos;name&apos;``,``&apos;sex&apos;``)</span><br></pre></td></tr></table></figure>

<p> 联合索引遵从最左前缀原则</p>
<ol>
<li><p>脏读<br>  脏读： ==在不同的事务下，当前事务可以读到另外事务未提交的数据。==另外我们需要注意的是默认的MySQL隔离级别是REPEATABLE READ是不会发生脏读的，脏读发生的条件是需要事务的隔离级别为READ UNCOMMITTED，所以如果出现脏读，可能就是这种隔离级别导致的。</p>
</li>
<li><p>不可重复读（修改）</p>
</li>
</ol>
<p>  <strong>不可重复读：</strong> 是指在一个事务内多次读取同一集合的数据，但是多次读到的数据是不一样的，这就违反了数据库事务的一致性的原则。但是，这跟脏读还是有区别的，脏读的数据是没有提交的，但是不可重复读的数据是已经提交的数据。</p>
<ol start="3">
<li>丢失更新（幻读）新增或者删除<br>  <br>  事务在操作过程中进行两次查询，第二次查询的结果包含了第一次查询中未出现的数据或者缺少了第一次查 询中出现的数据（并不要求两次查询的 SQL 语句相同）。这是因为在两次查询过程中有另外一个事务插入数据造 成的</li>
</ol>
<p>幻读，可以锁表。解决</p>
<p>串行化</p>
<h3 id="数据库三大范式"><a href="#数据库三大范式" class="headerlink" title="数据库三大范式"></a>数据库三大范式</h3><p>1、1NF:字段不可分，每个字段是原子级别的，上节中看到第一个字段为ID，它就是ID不能在分成两个字段了，不能说我要把这个人的ID、名称、班级号都塞在一个字段里面，这个是不合适的，对以后的应用造成很大影响；</p>
<p>2、2NF:有主键，非主键字段依赖主键，ID字段就是主键，它能表示这一条数据是唯一的，有的读者朋友记性很好，“unique”表示唯一的、不允许重复的，确实它经常会修饰某个字段，保证该字段唯一性，然后再设置该字段为主键；</p>
<p>不存在部分依赖（消除非主属性与码的部分依赖）</p>
<p>3、3NF:非主键字段不能相互依赖。</p>
<p>（消除非主属性与码的传递依赖）</p>
<h3 id="线程池原理"><a href="#线程池原理" class="headerlink" title="线程池原理"></a>线程池原理</h3><p><strong>线程池的原理：</strong></p>
<p>其实线程池的原理很简单，类似于操作系统中的缓冲区的概念，它的流程如下：先启动若干数量的线程，并让这些线程都处于睡眠状态，当客户端有一个新请求时，就会唤醒线程池中的某一个睡眠线程，让它来处理客户端的这个请求，当处理完这个请求后，线程又处于睡眠状态。</p>
<h3 id="HashMap为什么线程不安全"><a href="#HashMap为什么线程不安全" class="headerlink" title="HashMap为什么线程不安全"></a>HashMap为什么线程不安全</h3><p>一直以来都知道HashMap是线程不安全的，但是到底为什么线程不安全，在多线程操作情况下什么时候线程不安全？</p>
<p>让我们先来了解一下HashMap的底层存储结构，HashMap底层是一个Entry数组，一旦发生Hash冲突的的时候，HashMap采用拉链法解决碰撞冲突，Entry内部的变量：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> Object key;</span><br><span class="line">Object value; </span><br><span class="line">Entry next; </span><br><span class="line"><span class="keyword">int</span> hash;</span><br></pre></td></tr></table></figure>

<p>​    通过Entry内部的next变量可以知道使用的是链表，这时候我们可以知道，如果多个线程，在某一时刻同时操作HashMap并执行put操作，而有大于两个key的hash值相同，如图中a1、a2，这个时候需要解决碰撞冲突，而解决冲突的办法上面已经说过，对于链表的结构在这里不再赘述，暂且不讨论是从链表头部插入还是从尾部初入，这个时候两个线程如果恰好都取到了对应位置的头结点e1，而最终的结果可想而知，a1、a2两个数据中势必会有一个会丢失.</p>
<p>​    put方法不是同步的，同时调用了addEntry方法：</p>
<p>​    addEntry方法依然不是同步的，所以导致了线程不安全出现伤处问题，其他类似操作不再说明，源码一看便知，下面主要说一下另一个非常重要的知识点，同样也是HashMap非线程安全的原因，我们知道在HashMap存在扩容的情况，对应的方法为HashMap中的resize方法：</p>
<p>​    可以看到扩容方法也不是同步的，通过代码我们知道在扩容过程中，会新生成一个新的容量的数组，然后对原数组的所有键值对重新进行计算和写入新的数组，之后指向新生成的数组。    </p>
<p>​    当多个线程同时检测到总数量超过门限值的时候就会同时调用resize操作，各自生成新的数组并rehash后赋给该map底层的数组table，结果最终只有最后一个线程生成的新数组被赋给table变量，其他线程的均会丢失。而且当某些线程已经完成赋值而其他线程刚开始的时候，就会用已经被赋值的table作为原始数组，这样也会有问题。</p>
<h2 id="今日面经2"><a href="#今日面经2" class="headerlink" title="今日面经2"></a>今日面经2</h2><p>链接：<a href="https://www.nowcoder.com/discuss/636764?source_id=profile_create_nctrack&amp;channel=-1" target="_blank" rel="noopener">https://www.nowcoder.com/discuss/636764?source_id=profile_create_nctrack&amp;channel=-1</a></p>
<h3 id="hashmap的原理"><a href="#hashmap的原理" class="headerlink" title="hashmap的原理"></a>hashmap的原理</h3><p>简单来说，HashMap由数组+链表组成的，数组是HashMap的主体，链表则是主要为了解决哈希冲突而存在的，如果定位到的数组位置不含链表（当前entry的next指向null）,那么对于查找，添加等操作很快，仅需一次寻址即可；如果定位到的数组包含链表，对于添加操作，其时间复杂度为O(n)，首先遍历链表，存在即覆盖，否则新增；对于查找操作来讲，仍需遍历链表，然后通过key对象的equals方法逐一比对查找。所以，性能考虑，HashMap中的链表出现越少，性能才会越好。</p>
<h3 id="线程池的参数"><a href="#线程池的参数" class="headerlink" title="线程池的参数"></a>线程池的参数</h3><p>一、corePoolSize 线程池核心线程大小</p>
<p>线程池中会维护一个最小的线程数量，即使这些线程处理空闲状态，他们也不会被销毁，除非设置了allowCoreThreadTimeOut。这里的最小线程数量即是corePoolSize。</p>
<p>二、maximumPoolSize 线程池最大线程数量</p>
<p>一个任务被提交到线程池以后，首先会找有没有空闲存活线程，如果有则直接将任务交给这个空闲线程来执行，如果没有则会缓存到工作队列（后面会介绍）中，如果工作队列满了，才会创建一个新线程，然后从工作队列的头部取出一个任务交由新线程来处理，而将刚提交的任务放入工作队列尾部。线程池不会无限制的去创建新线程，它会有一个最大线程数量的限制，这个数量即由maximunPoolSize指定。</p>
<p>三、keepAliveTime 空闲线程存活时间</p>
<p>一个线程如果处于空闲状态，并且当前的线程数量大于corePoolSize，那么在指定时间后，这个空闲线程会被销毁，这里的指定时间由keepAliveTime来设定</p>
<p>四、unit 空闲线程存活时间单位</p>
<p>keepAliveTime的计量单位</p>
<p>五、workQueue 工作队列</p>
<p>新任务被提交后，会先进入到此工作队列中，任务调度时再从队列中取出任务。jdk中提供了四种工作队列：</p>
<p>①ArrayBlockingQueue</p>
<p>基于数组的有界阻塞队列，按FIFO排序。</p>
<p>②LinkedBlockingQuene</p>
<p>基于链表的无界阻塞队列（其实最大容量为Interger.MAX），按照FIFO排序。</p>
<p>③SynchronousQuene</p>
<p>一个不缓存任务的阻塞队列，生产者放入一个任务必须等到消费者取出这个任务。</p>
<p>④PriorityBlockingQueue</p>
<p>具有优先级的无界阻塞队列，优先级通过参数Comparator实现。</p>
<p>六、threadFactory 线程工厂</p>
<p>创建一个新线程时使用的工厂，可以用来设定线程名、是否为daemon线程等等</p>
<p>七、handler 拒绝策略</p>
<p>①CallerRunsPolicy</p>
<p>该策略下，在调用者线程中直接执行被拒绝任务的run方法，除非线程池已经shutdown，则直接抛弃任务。</p>
<p>②AbortPolicy</p>
<p>该策略下，直接丢弃任务，并抛出RejectedExecutionException异常。</p>
<h3 id="UDP与TDP区别"><a href="#UDP与TDP区别" class="headerlink" title="UDP与TDP区别"></a>UDP与TDP区别</h3><p>主要是UDP没有连接状态、速度快，但数据容易丢失，TCP有连接状态、速度慢，但数据较安全，一般根据你对程序数据的安全性要求和传输速度权衡。</p>
<h3 id="Cookie和Session"><a href="#Cookie和Session" class="headerlink" title="Cookie和Session"></a>Cookie和Session</h3><ol>
<li>session 在服务器端，cookie 在客户端（浏览器）</li>
<li>session 默认被存在在服务器的一个文件里（不是内存）</li>
<li>session 的运行依赖 session id，而 session id 是存在 cookie 中的，也就是说，如果浏览器禁用了 cookie ，同时 session 也会失效（但是可以通过其它方式实现，比如在 url 中传递 session_id）</li>
<li>session 可以放在 文件、数据库、或内存中都可以。</li>
<li>用户验证这种场合一般会用 session </li>
</ol>
<p>因此，维持一个会话的核心就是客户端的唯一标识，即 session id</p>
<h3 id="索引的类别"><a href="#索引的类别" class="headerlink" title="索引的类别"></a>索引的类别</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">唯一索引：   UNIQUE     例如：create unique index stusno on student（sno）；</span><br><span class="line">表明此索引的每一个索引值只对应唯一的数据记录，对于单列惟一性索引，这保证单列不包含重复的值。对于多列惟一性索引，保证多个值的组合不重复。</span><br><span class="line"></span><br><span class="line">主键索引：   primary key</span><br><span class="line">数据库表经常有一列或列组合，其值唯一标识表中的每一行。该列称为表的主键。   在数据库关系图中为表定义主键将自动创建主键索引，主键索引是唯一索引的特定类型。该索引要求主键中的每个值都唯一。当在查询中使用主键索引时，它还允许对数据的快速访问。 </span><br><span class="line"></span><br><span class="line">聚集索引（也叫聚簇索引）：cluster  </span><br><span class="line">在聚集索引中，表中行的物理顺序与键值的逻辑（索引）顺序相同。一个表只能包含一个聚集索引。   如果某索引不是聚集索引，则表中行的物理顺序与键值的逻辑顺序不匹配。与非聚集索引相比，聚集索引通常提供更快的数据访问速度。</span><br><span class="line"></span><br><span class="line">非聚集索引：</span><br><span class="line">一种索引，该索引中索引的逻辑顺序与磁盘上行的物理存储顺序不同。</span><br></pre></td></tr></table></figure>

<p>索引的实现方式（原理）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">B+树</span><br><span class="line">	我们经常听到B+树就是这个概念，用这个树的目的和红黑树差不多，也是为了尽量保持树的平衡，当然红黑树是二叉树，但B+树就不是二叉树了，节点下面可以有多个子节点，数据库开发商会设置子节点数的一个最大值，这个值不会太小，所以B+树一般来说比较矮胖，而红黑树就比较瘦高了。</span><br><span class="line">	关于B+树的插入，删除，会涉及到一些算法以保持树的平衡，这里就不详述了。ORACLE的默认索引就是这种结构的。</span><br><span class="line">	如果经常需要同时对两个字段进行AND查询,那么使用两个单独索引不如建立一个复合索引，因为两个单独索引通常数据库只能使用其中一个，而使用复合索引因为索引本身就对应到两个字段上的，效率会有很大提高。</span><br></pre></td></tr></table></figure>

<h3 id="了解MVCC吗？"><a href="#了解MVCC吗？" class="headerlink" title="了解MVCC吗？"></a>了解MVCC吗？</h3><p>链接：<a href="https://blog.csdn.net/kyle_wu_/article/details/113287187" target="_blank" rel="noopener">https://blog.csdn.net/kyle_wu_/article/details/113287187</a></p>
<ol>
<li>什么是MVCC</li>
</ol>
<p><strong>MVCC</strong>(Multi Version Concurrency Control的简称)，代表<strong>多版本并发控制</strong>。</p>
<p>MVCC最大的优势：<strong>读不加锁，读写不冲突</strong>。读写不冲突是非常重要的，极大的增加了系统的并发性能。<strong>MVCC机制也是乐观锁的一种体现。</strong></p>
<p>InnoDB的MVCC是通过在每行记录后面保存两个隐藏的列来实现的，分别保存这条行的<strong>创建时间</strong>和<strong>行的删除时间</strong>。这里的时间并不是实际的时间值，而是<strong>系统版本号（事务的ID）</strong>。事务开始时刻的系统版本号会作为事务的ID，每次执行一个新事务，系统版本号就会自动递增。随之引出了<strong>当前读</strong>和<strong>快照读</strong>。</p>
<ol start="2">
<li>MVCC解决了什么问题</li>
</ol>
<p>MVCC在MySQL InnoDB中的实现主要是为了提高数据库并发性能，用更好的方式去处理读-写冲突，做到即使有读写冲突时，也能做到不加锁，非阻塞并发读</p>
<p>在并发读写数据库时，可以做到在读操作时不用阻塞写操作，写操作也不用阻塞读操作，提高了数据库并发读写的性能</p>
<p>同时还可以解决脏读，幻读，不可重复读等事务隔离问题，但不能解决更新丢失问题。</p>
<ol start="3">
<li>什么是当前读和快照读</li>
</ol>
<ul>
<li>当前读</li>
</ul>
<p>像select lock in share mode(共享锁), select for update ; update, insert ,delete(排他锁)这些操作都是一种当前读。</p>
<p>当前读就是它读取的是记录的最新版本，读取时还要保证其他并发事务不能修改当前记录，会对读取的记录进行加锁</p>
<ul>
<li>快照读</li>
</ul>
<p>快照读的前提是隔离级别不是串行级别，串行级别下的快照读会退化成当前读；</p>
<p>之所以出现快照读的情况，是基于提高并发性能的考虑，快照读的实现是基于多版本并发控制，即MVCC,可以认为MVCC是行锁的一个变种，但它在很多情况下，避免了加锁操作，降低了开销；既然是基于多版本，即快照读可能读到的并不一定是数据的最新版本，而有可能是之前的历史版本</p>
<p>不加锁的简单的 SELECT 都属于快照读，例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> t <span class="keyword">WHERE</span> <span class="keyword">id</span>=<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>与 快照读 相对应的则是 当前读，当前读就是读取最新数据，而不是历史版本的数据。加锁的 SELECT 就属于当前读，例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> t <span class="keyword">WHERE</span> <span class="keyword">id</span>=<span class="number">1</span> <span class="keyword">LOCK</span> <span class="keyword">IN</span> <span class="keyword">SHARE</span> <span class="keyword">MODE</span>;</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> t <span class="keyword">WHERE</span> <span class="keyword">id</span>=<span class="number">1</span> <span class="keyword">FOR</span> <span class="keyword">UPDATE</span>;</span><br></pre></td></tr></table></figure>

<h3 id="写个SQL行列转换"><a href="#写个SQL行列转换" class="headerlink" title="写个SQL行列转换"></a>写个SQL行列转换</h3><p>链接：<a href="https://www.cnblogs.com/weibanggang/p/9679301.html" target="_blank" rel="noopener">https://www.cnblogs.com/weibanggang/p/9679301.html</a></p>
<ol>
<li>使用case when</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">name</span> <span class="keyword">as</span> 姓名，</span><br><span class="line"><span class="keyword">max</span>(<span class="keyword">case</span> <span class="keyword">when</span> Subject <span class="keyword">when</span> <span class="string">'语文'</span> <span class="keyword">then</span> <span class="keyword">Result</span> <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">end</span>) <span class="keyword">as</span> 语文，</span><br><span class="line"><span class="keyword">max</span>(<span class="keyword">case</span> Subject <span class="keyword">when</span> <span class="string">'数学'</span> <span class="keyword">then</span> <span class="keyword">result</span> <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">end</span>) <span class="keyword">as</span> 数学,</span><br><span class="line"><span class="keyword">max</span>(<span class="keyword">case</span> Subject <span class="keyword">when</span> <span class="string">'英语'</span> <span class="keyword">then</span> <span class="keyword">Result</span> <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">end</span>) <span class="keyword">as</span> 英语,</span><br><span class="line"><span class="keyword">max</span>(<span class="keyword">case</span> Subject <span class="keyword">when</span> <span class="string">'政治'</span> <span class="keyword">then</span> <span class="keyword">Result</span> <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">end</span>) <span class="keyword">as</span> 政治,</span><br><span class="line"><span class="keyword">max</span>(<span class="keyword">case</span> Subject <span class="keyword">when</span> <span class="string">'物理'</span> <span class="keyword">then</span> <span class="keyword">Result</span> <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">end</span>) <span class="keyword">as</span> 物理</span><br><span class="line"><span class="keyword">from</span> cj <span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">name</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>使用with rollup</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	<span class="keyword">ifnull</span>(<span class="keyword">name</span>,<span class="string">'TOLL'</span>) <span class="keyword">name</span>,</span><br><span class="line">	<span class="keyword">sum</span>(<span class="keyword">if</span>(Subject=<span class="string">'语文'</span>,Fraction,<span class="number">0</span>) <span class="keyword">as</span> 语文),</span><br><span class="line">	<span class="keyword">sum</span>(<span class="keyword">if</span>(Subject=<span class="string">'英语'</span>,Fraction,<span class="number">0</span>)) <span class="keyword">as</span> 英语,</span><br><span class="line">	<span class="keyword">sum</span>(<span class="keyword">if</span>(Subject=<span class="string">'数学'</span>,Fraction,<span class="number">0</span>)) <span class="keyword">as</span> 英语,</span><br><span class="line">	<span class="keyword">sum</span>(Fraction) 总分</span><br><span class="line"><span class="keyword">from</span> t_score <span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">name</span> <span class="keyword">with</span> <span class="keyword">rollup</span></span><br></pre></td></tr></table></figure>

<h3 id="自动装箱和拆箱、引用传递"><a href="#自动装箱和拆箱、引用传递" class="headerlink" title="自动装箱和拆箱、引用传递"></a>自动装箱和拆箱、引用传递</h3><p>装箱就是自动将基本数据类型转换为包装器类型；拆箱就是自动将包装器类型转换为基本数据类型。</p>
<p> <strong>值传递</strong>：指在调用函数时将实际参数复制一份传递到函数中，这样在函数中如果对参数进行修改，将不会影响到实际参数。<br>  <strong>引用传递</strong>：是指在调用函数时将实际参数的地址直接传递到函数中(的形参)，那么在函数中对参数所进行的修改，将影响到实际参数。</p>
<p>Java 中的基本类型，属于值传递。</p>
<p>Java 中的引用类型，属于引用传递。</p>
<p>Java 中的 String 及包装类，属于特殊群体，作为形参时，由于每次赋值都相当于重新创建了对象，因此看起来像值传递，但是其特性已经破坏了，值传递、引用传递的定义。因此他们属于引用传递的定义，却表现为值传递。</p>
<h3 id="垃圾回收器"><a href="#垃圾回收器" class="headerlink" title="垃圾回收器"></a>垃圾回收器</h3><p><strong>垃圾收集器的分代</strong></p>
<p>年轻代：Serial, ParNew, Parallel Scavenge</p>
<p>老年代：CMS, Serial Old, Parallel Old</p>
<p>通杀：G1</p>
<ol>
<li><strong>Serial收集器</strong></li>
</ol>
<p>垃圾收集器最基本，发展历史最悠久的收集器。jdk1.3之前是HotSpot新生代收集器唯一的选择。</p>
<ul>
<li>特点</li>
</ul>
<p>采用复制算法</p>
<p>单线程收集</p>
<p>stop the world 进行垃圾收集时， 必须暂停所有工作线程， 直到完成。</p>
<ol start="2">
<li><strong>Serial Old收集器</strong></li>
</ol>
<p>serial Old是Serial收集器的老年代版本</p>
<ul>
<li>特点：</li>
</ul>
<p>针对老年代的收集器</p>
<p>采用的是标记整理算法， （还有压缩， mark-sweep-compact）</p>
<p>单线程收集</p>
<ol start="3">
<li><strong>ParNew收集器</strong></li>
</ol>
<ul>
<li>特点：</li>
</ul>
<p>除了多线程外， 其余的行为， 特点和Serial收集器一样</p>
<p>和Serial收集器公用了不少的代码</p>
<ul>
<li>为什么只有ParNew能与CMS收集器配合</li>
</ul>
<p>因为Parallel Scavenge(以及G1) 都没有使用传统的GC收集器代码框架， 而是另外独立实现；而其余几种收集器则公用了部分的框架代码。</p>
<ol start="4">
<li><strong>Parallel Scavenge收集器</strong></li>
</ol>
<p>因为与吞吐量关系密切， 也称为吞吐量收集器</p>
<ul>
<li>特点：</li>
</ul>
<p>a. 和ParNew收集器相似</p>
<p>新生代收集器</p>
<p>采用复制算法</p>
<p>多线程收集</p>
<ol start="5">
<li><strong>Parallel Old收集器</strong></li>
</ol>
<p>Parallel Old垃圾收集器是Parallel Scavenge收集器的老年代版本；</p>
<p>JDK1.6中才开始提供</p>
<ul>
<li>特点：</li>
</ul>
<p>针对老年代</p>
<p>采用标记整理算法</p>
<p>多线程收集；</p>
<ol start="6">
<li><strong>CMS收集器</strong></li>
</ol>
<p>并发标记清理收集器也称为并发低停顿收集器或低延迟垃圾收集器</p>
<ul>
<li>特点：</li>
</ul>
<p>针对老年代</p>
<p>基于标记清除算法</p>
<p>以获取最短回收停顿时间为目标；</p>
<p>并发收集， 低停顿</p>
<p>需要更多的内存， 是HotSpot在JDK1.5推出的第一款真正意义上的并发收集器</p>
<p>第一次实现了让垃圾收集线程与用户线程（基本上）同时工作。</p>
<h3 id="volatile在单例模式中的作用"><a href="#volatile在单例模式中的作用" class="headerlink" title="volatile在单例模式中的作用"></a>volatile在单例模式中的作用</h3><p>链接：<a href="https://blog.csdn.net/llllllkkkkkooooo/article/details/115360630" target="_blank" rel="noopener">https://blog.csdn.net/llllllkkkkkooooo/article/details/115360630</a></p>
<p>singleton 用了 volatile 修饰，而我们都知道 volatile 的作用</p>
<ol>
<li><strong>不能保证原子性</strong></li>
<li><strong>保证共享变量的可见性</strong></li>
<li><strong>禁止指令重排序</strong></li>
</ol>
<p><strong>在单例模式中，volatile的作用主要是 禁止指令重排序</strong></p>
<p><strong>singleton = new Singleton(); 可分解为以下步骤：</strong></p>
<ol>
<li><strong>分配对象内存空间</strong></li>
<li><strong>初始化对象</strong></li>
<li><strong>设置 singleton 指向分配的内存地址</strong></li>
</ol>
<p>但是步骤2，3是可能交换的，也就是发生重排序，但是根据 Java语言规范 intra-thread semantics，它是允许那些在单线程内，不会改变单线程程序执行结果的重排序，也就是说，虽然步骤2，3发生重排序，但是对于单线程来说，初次访问对象时，其结果都是正确的，所以即使重排序也无所谓了。</p>
<p>但是<strong>在多线程环境中，这就会出现问题</strong>，在发生重排序的情况下，会导致线程B在 t3 时间下，判断出 singleton 不为null，那么线程B就会拿到这个 singleton 去做别的事，那么此时这个 singleton 没有初始化，那么就会报错，这就出了问题。</p>
<h3 id="java序列化"><a href="#java序列化" class="headerlink" title="java序列化"></a>java序列化</h3><p>链接：<a href="https://www.cnblogs.com/wxgblogs/p/5849951.html" target="_blank" rel="noopener">https://www.cnblogs.com/wxgblogs/p/5849951.html</a></p>
<p>如果你只知道实现 Serializable 接口的对象，可以序列化为本地文件。</p>
<ol>
<li>序列化 ID 问题</li>
</ol>
<p>　　<strong>情境</strong>：两个客户端 A 和 B 试图通过网络传递对象数据，A 端将对象 C 序列化为二进制数据再传给 B，B 反序列化得到 C。</p>
<p>　　<strong>问题</strong>：C 对象的全类路径假设为 com.inout.Test，在 A 和 B 端都有这么一个类文件，功能代码完全一致。也都实现了 Serializable 接口，但是反序列化时总是提示不成功。</p>
<p>　　<strong>解决</strong>：虚拟机是否允许反序列化，不仅取决于类路径和功能代码是否一致，一个非常重要的一点是两个类的序列化 ID 是否一致（就是 private static final long serialVersionUID = 1L）。清单 1 中，虽然两个类的功能代码完全一致，但是序列化 ID 不同，他们无法相互序列化和反序列化。</p>
<p>​    序列化 ID 在 Eclipse 下提供了两种生成策略，一个是固定的 1L，一个是随机生成一个不重复的 long 类型数据（实际上是使用 JDK 工具生成），在这里有一个建议，如果没有特殊需求，就是用默认的 1L 就可以，这样可以确保代码一致时反序列化成功。那么随机生成的序列化 ID 有什么作用呢，有些时候，通过改变序列化 ID 可以用来限制某些用户的使用。</p>
<ol start="2">
<li>静态变量序列化</li>
</ol>
<p>序列化保存的是对象的状态，静态变量属于类的状态，因此 <strong><em>序列化并不保存静态变量\</em></strong>。</p>
<ol start="3">
<li>父类的序列化与 Transient 关键字</li>
</ol>
<p>　　<strong>情境</strong>：一个子类实现了 Serializable 接口，它的父类都没有实现 Serializable 接口，序列化该子类对象，然后反序列化后输出父类定义的某变量的数值，该变量数值与序列化时的数值不同。</p>
<p>　　解决：要想将父类对象也序列化，就需要让父类也实现Serializable 接口。如果父类不实现的话的，就需要有默认的无参的构造函数。 在父类没有实现 Serializable 接口时，虚拟机是不会序列化父对象的，而一个 Java 对象的构造必须先有父对象，才有子对象，反序列化也不例外。所以反序列化时，为了构造父对象，只能调用父类的无参构造函数作为默认的父对象。因此当我们取 父对象的变量值时，它的值是调用父类无参构造函数后的值。如果你考虑到这种序列化的情况，在父类无参构造函数中对变量进行初始化，否则的话，父类变量值都 是默认声明的值，如 int 型的默认是 0，string 型的默认是 null。</p>
<p>　　Transient 关键字的作用是控制变量的序列化，在变量声明前加上该关键字，可以阻止该变量被序列化到文件中，在被反序列化后，transient 变量的值被设为初始值，如 int 型的是 0，对象型的是 null。</p>
<ol start="4">
<li>对敏感字段加密</li>
</ol>
<p>　　<strong>情境</strong>：服务器端给客户端发送序列化对象数据，对象中有一些数据是敏感的，比如密码字符串等，希望对该密码字段在序列化时，进行加密，而客户端如果拥有解密的密钥，只有在客户端进行反序列化时，才可以对密码进行读取，这样可以一定程度保证序列化对象的数据安全。</p>
<p>　　<strong>解决</strong>： 在序列化过程中，虚拟机会试图调用对象类里的 writeObject 和 readObject 方法，进行用户自定义的序列化和反序列化，如果没有这样的方法，则默认调用是 ObjectOutputStream 的 defaultWriteObject 方法以及 ObjectInputStream 的 defaultReadObject 方法。用户自定义的 writeObject 和 readObject 方法可以允许用户控制序列化的过程，比如可以在序列化的过程中动态改变序列化的数值。</p>
<ol start="5">
<li>序列化存储规则</li>
</ol>
<p>Java 序列化机制为了节省磁盘空间，具有特定的存储规则，当写入文件的为同一对象时，并不会再将对象的内容进行存储，而只是再次存储一份引用，上面增加的 5 字节的存储空间就是新增引用和一些控制信息的空间。反序列化时，恢复引用关系，使得清单 3 中的 t1 和 t2 指向唯一的对象，二者相等，输出 true。该存储规则极大的节省了存储空间。</p>
<h3 id="1-9填九宫格，行列对角线和都相等"><a href="#1-9填九宫格，行列对角线和都相等" class="headerlink" title="1-9填九宫格，行列对角线和都相等"></a>1-9填九宫格，行列对角线和都相等</h3><p>二四为肩，六八为足</p>
<p>左三右七，戴九履一</p>
<p>4 9 2</p>
<p>3 5 7 </p>
<p>8 1 6</p>
<h3 id="给定一句话，只考虑数字和字母（不考虑大小写），判断是否为回文"><a href="#给定一句话，只考虑数字和字母（不考虑大小写），判断是否为回文" class="headerlink" title="给定一句话，只考虑数字和字母（不考虑大小写），判断是否为回文"></a>给定一句话，只考虑数字和字母（不考虑大小写），判断是否为回文</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 回文串</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPalindrome</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n = s.length();</span><br><span class="line">  <span class="keyword">int</span> left = <span class="number">0</span>, right = n - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">    <span class="keyword">while</span> (left &lt; right &amp;&amp; !Character.isLetterOrDigit(s.charAt(left))) &#123;</span><br><span class="line">      ++left;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (left &lt; right &amp;&amp; !Character.isLetterOrDigit(s.charAt(right))) &#123;</span><br><span class="line">      --right;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (left &lt; right) &#123;</span><br><span class="line">      <span class="keyword">if</span> (Character.isLowerCase(s.charAt(left)) != Character.isLowerCase(s.charAt(right))) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      ++left;</span><br><span class="line">      --right;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h3><p>优点：愿意钻研技术，执行能力比较强。</p>
<p>缺点：前面提到执行能力比较强，可能相反我的领导能力有欠缺。</p>
<h3 id="任务完不成，怎么办？"><a href="#任务完不成，怎么办？" class="headerlink" title="任务完不成，怎么办？"></a>任务完不成，怎么办？</h3><p>​    遇到任务完不成，第一时间就是分析任务无法完成的原因，任务完不成造成的结果，如果有不良影响应该怎么解决。如果是由于个人原因造成，这可能是最开始工作不熟，能力不够，一定加倍努力，下次不再犯。而如果是客观原因，比如公司决策，大环境影响，竞争对手的下作手段等，那就只有尽可能想办法弥补造成的损失，随时跟踪任务进度，遇到问题及时预警及处理，尽最大的努力完成任务！</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/刷题/" rel="tag"># 刷题</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2021/04/10/面试题随笔-21-4-10/" rel="next" title="面试题随笔-21/4/10">
                <i class="fa fa-chevron-left"></i> 面试题随笔-21/4/10
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2021/04/12/面试题随笔-21-4-12/" rel="prev" title="面试题随笔-21/4/12">
                面试题随笔-21/4/12 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC80NjYwMC8yMzExMA=="></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="Lx">
            
              <p class="site-author-name" itemprop="name">Lx</p>
              <p class="site-description motion-element" itemprop="description">dreamer</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">72</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">57</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/lixiangbetter" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#今日面经"><span class="nav-number">1.</span> <span class="nav-text">今日面经</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#操作系统中线程、进程联系和区别，上下文切换时发生了什么"><span class="nav-number">1.1.</span> <span class="nav-text">操作系统中线程、进程联系和区别，上下文切换时发生了什么</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#协程说一下"><span class="nav-number">1.2.</span> <span class="nav-text">协程说一下</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#select语句的执行顺序"><span class="nav-number">1.3.</span> <span class="nav-text">select语句的执行顺序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Delete-from-table-where-id-gt-2-执行这条语句过程中发生了什么？（胡说一通）"><span class="nav-number">1.4.</span> <span class="nav-text">Delete * from table where id&gt;2 执行这条语句过程中发生了什么？（胡说一通）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数据库的索引"><span class="nav-number">1.5.</span> <span class="nav-text">数据库的索引</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数据库三大范式"><span class="nav-number">1.6.</span> <span class="nav-text">数据库三大范式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#线程池原理"><span class="nav-number">1.7.</span> <span class="nav-text">线程池原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HashMap为什么线程不安全"><span class="nav-number">1.8.</span> <span class="nav-text">HashMap为什么线程不安全</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#今日面经2"><span class="nav-number">2.</span> <span class="nav-text">今日面经2</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#hashmap的原理"><span class="nav-number">2.1.</span> <span class="nav-text">hashmap的原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#线程池的参数"><span class="nav-number">2.2.</span> <span class="nav-text">线程池的参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UDP与TDP区别"><span class="nav-number">2.3.</span> <span class="nav-text">UDP与TDP区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cookie和Session"><span class="nav-number">2.4.</span> <span class="nav-text">Cookie和Session</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#索引的类别"><span class="nav-number">2.5.</span> <span class="nav-text">索引的类别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#了解MVCC吗？"><span class="nav-number">2.6.</span> <span class="nav-text">了解MVCC吗？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#写个SQL行列转换"><span class="nav-number">2.7.</span> <span class="nav-text">写个SQL行列转换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#自动装箱和拆箱、引用传递"><span class="nav-number">2.8.</span> <span class="nav-text">自动装箱和拆箱、引用传递</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#垃圾回收器"><span class="nav-number">2.9.</span> <span class="nav-text">垃圾回收器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#volatile在单例模式中的作用"><span class="nav-number">2.10.</span> <span class="nav-text">volatile在单例模式中的作用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#java序列化"><span class="nav-number">2.11.</span> <span class="nav-text">java序列化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-9填九宫格，行列对角线和都相等"><span class="nav-number">2.12.</span> <span class="nav-text">1-9填九宫格，行列对角线和都相等</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#给定一句话，只考虑数字和字母（不考虑大小写），判断是否为回文"><span class="nav-number">2.13.</span> <span class="nav-text">给定一句话，只考虑数字和字母（不考虑大小写），判断是否为回文</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#优缺点"><span class="nav-number">2.14.</span> <span class="nav-text">优缺点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#任务完不成，怎么办？"><span class="nav-number">2.15.</span> <span class="nav-text">任务完不成，怎么办？</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2019 &mdash; <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lx</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        
<div class="busuanzi-count">
  <!--<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>-->
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人次
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
